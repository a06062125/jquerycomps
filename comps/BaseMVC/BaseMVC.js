(function(d){window.JC&&(window.BaseMVC=JC.BaseMVC=c);function c(a){throw new Error("JC.BaseMVC is an abstract class, can't initialize!");if(c.getInstance(a)){return c.getInstance(a)}c.getInstance(a,this);this._model=new c.Model(a);this._view=new c.View(this._model);this._init()}c.prototype={_init:function(){var a=this;a._beforeInit();a._initHanlderEvent();d([a._view,a._model]).on("BindEvent",function(h,b,g){a.on(b,g)});d([a._view,a._model]).on("TriggerEvent",function(h,b){var g=sliceArgs(arguments).slice(2);a.trigger(b,g)});a._model.init();a._view&&a._view.init();a._inited();return a},_beforeInit:function(){},_initHanlderEvent:function(){},_inited:function(){},selector:function(){return this._model.selector()},on:function(a,b){d(this).on(a,b);return this},trigger:function(a,b){d(this).trigger(a,b);return this}};c.autoInit=true;c.build=function(b,a){c.buildModel(b);c.buildView(b);c.buildClass(c,b,a);c.buildClass(c.Model,b.Model);c.buildClass(c.View,b.View)};c.buildClass=function(l,k,a){if(!(l&&k)){return}var b,i,j;if(k){for(b in l){if(!k[b]){if(l[b].constructor==Function){}else{k[b]=l[b]}}}for(b in l.prototype){!k.prototype[b]&&(k.prototype[b]=l.prototype[b])}}};c.buildModel=function(a){!a.Model&&(a.Model=function(b){this._selector=b},a.Model._instanceName="CommonIns")};c.buildView=function(a){!a.View&&(a.View=function(b){this._model=b})};c.buildModel(c);c.Model._instanceName="BaseMVCIns";c.Model.prototype={init:function(){return this},selector:function(a){typeof a!="undefined"&&(this._selector=a);return this._selector},intProp:function(f,b){if(typeof b=="undefined"){b=f;f=this.selector()}else{f&&(f=d(f))}var a=0;f&&f.is("["+b+"]")&&(a=parseInt(f.attr(b).trim(),10)||a);return a},floatProp:function(f,b){if(typeof b=="undefined"){b=f;f=this.selector()}else{f&&(f=d(f))}var a=0;f&&f.is("["+b+"]")&&(a=parseFloat(f.attr(b).trim())||a);return a},stringProp:function(f,b){if(typeof b=="undefined"){b=f;f=this.selector()}else{f&&(f=d(f))}var a=(this.attrProp(f,b)||"").toLowerCase();return a},attrProp:function(f,b){if(typeof b=="undefined"){b=f;f=this.selector()}else{f&&(f=d(f))}var a="";f&&f.is("["+b+"]")&&(a=f.attr(b).trim());return a},boolProp:function(h,g,a){if(typeof g=="boolean"){a=g;g=h;h=this.selector()}else{if(typeof g=="undefined"){g=h;h=this.selector()}else{h&&(h=d(h))}}var b=undefined;h&&h.is("["+g+"]")&&(b=parseBool(h.attr(g).trim()));return b},callbackProp:function(h,b){if(typeof b=="undefined"){b=h;h=this.selector()}else{h&&(h=d(h))}var a,g;h&&h.is("["+b+"]")&&(g=window[h.attr(b)])&&(a=g);return a},selectorProp:function(f,b){var a;if(typeof b=="undefined"){b=f;f=this.selector()}else{f&&(f=d(f))}f&&f.is("["+b+"]")&&(a=parentSelector(f,f.attr(b)));return a},is:function(b,a){if(typeof a=="undefined"){a=b;b=this.selector()}else{b&&(b=d(b))}return b&&b.is(a)}};c.buildView(c);c.View.prototype={init:function(){return this}}}(jQuery));